<html>
    <head>
        <style>
            body {
                background-color: black;
                color: white;
            }
            input[type="submit"] {
                background: none;
                color : aqua;/* Set the color you want for the text */
                padding: 5px;
                text-decoration: underline; /* Underline the text to make it look like a hyperlink */
                cursor: pointer; /* Change cursor to pointer on hover */
                margin-top: 5px;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            input[type="submit"]:hover {
                transform: scale(1.1); /* Increase the size on hover */
                 /* Change border color on hover if desired */
            }
        </style>
    </head>
    <body>

    <script th:inline="javascript">
        var c = /*[[${id}]]*/ '';
    </script>

        <div style = "display: flex;">
            <div>
                <img src = "log.jpg" style = "width: 250px; height: 60px; margin-bottom: 20px;">
            </div>
            <div style = "display: flex; margin-left: auto; text-align: center; height: 40px; margin-top: 10px;">
                <form action = "/profile" method = "post" style = "margin-right: 20px; margin-left: 20px;">
                    <input type = "submit"  value = "My Profile">
                </form>

                <form action = "/logout" method = "post" style = "margin-right: 20px;">
                    <input type = "submit"  value = "Logout">
                </form>
            </div>
        </div>

        <div style = "display: flex; margin-top: 10px; align-items: center; margin-bottom: 30px;">
            <div style = "display: flex; height: 40px; font-size: 15px; font-family: Verdana, Geneva, Tahoma, sans-serif;">
                <form action = "/home" method = "post" style = "margin-right: 20px;">
                    <input type = "submit"  value = "Home">
                </form>
    
                <form action = "/contest-list" method = "get" style = "margin-right: 20px;">
                    <input type = "submit"  value = "Contests">
                </form>
    
                <form action = "/practice-course" method = "post" style = "margin-right: 20px;">
                    <input type = "submit"  value = "DSA Course">
                </form>
    
                <form action = "/problemset" method = "post" style = "margin-right: 20px;">
                    <input type = "submit"  value = "Problemset">
                </form>

                <form action = "/rating" method = "post" style = "margin-right: 20px;">
                    <input type = "submit"  value = "Rating">
                </form>

                <form action = "help" method = "post" style = "margin-right: 20px;">
                    <input type = "submit"  value = "Help">
                </form>
            </div>

            <div style = "margin-left: auto;">
                <form action = "/search" method = "post" style = "margin-left: auto; height: 40px; margin-top: 10px;">
                    <input type = "text" style = "width: 400px; height: 30px;" name = "search-value" placeholder = "Search">
                    <input type = "submit" value = "Go" style = " margin-left: 20px;">
                </form>
            </div>
        </div>

        <div style = "display: flex; margin-bottom: 20px;">
            <form action = "/contest-load" method = "get">
                <input type = "submit" style = " margin-right: 20px;" value = "Problems">
                <input type = "hidden" name = "id" th:value = "${id}">
            </form>

            <form action="/subs" method = "get">
                <input type = "submit" style = " margin-right: 20px;" value = "My Submissions">
                <input type = "hidden" name = "id" th:value = "${id}">
                <input type = "hidden" name = "user" value  = "0">
            </form>

            <form>
                <input type = "submit" style = " margin-right: 20px;" value = "Status">
                <input type = "hidden" name = "id" th:value = "${id}">
            </form>

            <form action = "/board" method = "get">
                <input type = "submit" style = " margin-right: 20px;" value = "Standings">
                <input type = "hidden" name = "id" th:value = "${id}">
            </form>
        </div>

        <div style = "text-align: center; justify-content: center;">
            <form id="yourFormId" onsubmit="sendFormData(event);">
                <div style = "font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 13px;">
                    <label style = "margin-right: 20px;">
                        <input type="radio" name="lang" value="1"> Java
                    </label>
                    <label style = "margin-right: 20px;">
                        <input type="radio" name="lang" value="2"> C++
                    </label>
                    <label style = "margin-right: 20px;">
                        <input type="radio" name="lang" value="3"> Python
                    </label>
                </div>
                <textarea style = "margin-top: 20px;" id="javaCode" name="javaCode" rows="10" cols="50" placeholder="Enter your code here"></textarea>
                <input type="hidden" id="encodedJavaCode" name="encodedJavaCode">
                <input type="hidden" name="run" value = "0">
                <input type="hidden" name = "ques-id" th:value = "${num}">
                <input type="submit" style = "display: block; margin-left: 600px; margin-top: 20px;" value="Submit">
            </form>
            <div id = "wait" style = "font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 13px;">
                
            </div>
        </div>
            <script>
                function sendFormData(event) {
                    event.preventDefault();
                    var selectedLanguages = document.querySelectorAll('input[name="lang"]:checked');
                        
                        if (selectedLanguages.length !== 1) {
                            alert('Please select exactly one programming language.');
                            return false;
                        }
                    var javaCode = document.getElementById("javaCode").value;
                    var encodedJavaCode = encodeURIComponent(javaCode);

                    var formData = new FormData();
                    formData.append("encodedJavaCode", encodedJavaCode);
                    formData.append("ques-id", document.getElementsByName("ques-id")[0].value);
                    formData.append("lang", selectedLanguages[0].value);
                    formData.append("id", c);

                    var xhr = new XMLHttpRequest();
                    xhr.open("POST", "/submit-code", true);
                    xhr.onreadystatechange = function () {
                        if (xhr.readyState === 4) {
                            if (xhr.status === 200) {
                                // Request was successful, handle the response
                                console.log(xhr.responseText);
                            } else {
                                // Handle errors
                                console.error("Request failed with status:", xhr.status);
                            }
                        }
                    };
                    xhr.send(formData);
                    var ele = document.getElementById("wait");
                    ele.innerHTML = "Processing Your Request ...";
                    var link = "/subs-self?id=" + c;
                    setTimeout(function () {window.location.href = link;}, 1000);
                }
        </script>
    </body>
</html>
